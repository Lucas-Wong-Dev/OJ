# 三色旗

## 背景说明

三色旗的问题最早由E.W.Dijkstra提出的，他所使用的用语为Dutch Nation Flag（Dijkstra为荷兰人），而多数的作者则使用Three-Color Flag来称之。

假设有一条绳子，上面有红、白、蓝三种颜色的旗子，起初绳子上的旗子的颜色并没有顺序，你希望将之分类并排列为蓝、白、红的顺序，要如何移动次数最少，注意你只能在绳子上进行这个动作，并且一次只能调换两个旗子。

## 分析

一个字符数组里存放着'b'（代表蓝色旗子）、'w'（代表白色旗子）、'r'（代表红色旗子）三种字符，每种字符个数不定、各个字符间顺序不定。例如，刚开始时数组中各元素可能是这样排列的：r w b w w b r b w r 

要求你通过交换两个数组元素（不要求这两个数组元素相邻）若干次，以将数组元素从左到右排列成蓝、白、红的顺序，即：b b b w w w w r r r

要求交换次数最小

## 思路

参考快排的思想，用三个指针来进行排序。

- b指针永远指向**从左到右第一个非蓝元素**

- w指针用来对数组进行遍历，从最左边第一个元素起向右依次递增（但w指针未必需要遍历完每个数组元素，只要数组元素“有序”了，w指针就不必接着向右遍历了），每指向一个元素就对该元素进行如下判断
  - 如果w指针当前指向的是白色元素，则不做任何处理，w指针接着向右遍历数组
  - 如果w指针当前指向的是蓝色元素，则将这个蓝色元素与b指针指向的元素交换
  - 如果w指针当前指向的是红色元素，则将这个红色元素与r指针指向的元素交换
- r指针永远指向**从右到左第一个非红元素**


 

假定刚开始时数组中各元素是这样排列的：

![img](%E4%B8%89%E8%89%B2%E6%97%97.assets/clip_image001.png)

对数组元素进行排序，过程如下：

![img](%E4%B8%89%E8%89%B2%E6%97%97.assets/clip_image002.png)

![img](%E4%B8%89%E8%89%B2%E6%97%97.assets/clip_image003.png)

![img](%E4%B8%89%E8%89%B2%E6%97%97.assets/clip_image004.png)

![img](%E4%B8%89%E8%89%B2%E6%97%97.assets/clip_image006.jpg)

![img](%E4%B8%89%E8%89%B2%E6%97%97.assets/clip_image007.png)

![img](%E4%B8%89%E8%89%B2%E6%97%97.assets/clip_image008.png)